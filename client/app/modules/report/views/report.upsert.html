<script type="text/ng-template" id="/queryBuilderDirective.html">
  <div id="builder"></div>
</script>

<mh-panel class="report">
  <div ng-controller="ReportUpsertController as reportUpCtrl">
    <mh-panel-header>
      <translate>Edit Report</translate>
    </mh-panel-header>

    <mh-panel-body>
      <form name="reportBuilderForm" class="form" layout-padding>
        <md-tabs md-dynamic-height md-border-bottom md-selected="selectedIndex">
          <md-tab>
            <md-tab-label>
              <fa name="database"></fa> <translate>Report source</translate>
            </md-tab-label>
            <md-tab-body layout-padding>
              <div class="tab-query" layout-padding ng-include="'app/modules/report/views/report.upsert.tab.query.html'"></div>
            </md-tab-body>
          </md-tab>
          <md-tab>
            <md-tab-label>
              <fa name="pencil"></fa> <translate>Report layout</translate>
            </md-tab-label>
            <md-tab-body>
              <div class="tab-layout" layout-padding ng-include="'app/modules/report/views/report.upsert.tab.layout.html'"></div>
            </md-tab-body>
          </md-tab>
          <md-tab>
            <md-tab-label>
              <fa name="eye"></fa> <translate>Report preview</translate>
            </md-tab-label>
            <md-tab-body>
              <div class="tab-layout" layout-padding ng-include="'app/modules/report/views/report.upsert.tab.preview.html'"></div>
            </md-tab-body>
          </md-tab>
        </md-tabs>
        <md-button class="md-raised md-primary parse-json" ng-click="reportUpCtrl.saveReport()"
                   ng-disabled="reportBuilderForm.$invalid">
          <translate>Save Changes</translate>
        </md-button>
        <md-button class="md-raised reset" ng-show="selectedIndex==0"><translate>Reset</translate></md-button>
      </form>
    </mh-panel-body>
  </div>
</mh-panel>
